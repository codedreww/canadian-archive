@import "tailwindcss";

:root {
  /* Base app tokens. */
  --background: #ececec;
  --foreground: #171717;

  /* Retro theme tokens used by modal and reusable UI blocks. */
  --retro-ink: #1c1f26;
  --retro-panel: #ececec;
  --retro-bar: #d6d6d6;
  --retro-subtle: #364152;
  --retro-callout-bg: #fff4df;
  --retro-callout-ink: #943b1c;
  --retro-link-bg: #e8f0ff;
  --retro-link-bg-hover: #d7e5ff;
  --retro-button-bg: #f5cc4b;
  --retro-button-bg-hover: #ffe080;
  --retro-pixel-grid: rgb(0 0 0 / 0.08);
  --canadian-red: #dc3b32;
}

/* Tailwind v4 theme bridge: exposes CSS variables as utility tokens. */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

html,
body {
  height: 100%;
}

html {
  background: var(--background);
}

body {
  margin: 0;
  min-height: 100%;
  background-color: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* Backdrop tint used behind dialogs/overlays. */
.retro-overlay {
  background: rgb(0 0 0 / 55%);
}

/* Main 8-bit panel shell (thick border + offset shadow). */
.retro-panel {
  border: 4px solid var(--retro-ink);
  background: var(--retro-panel);
  color: #14171f;
  box-shadow:
    4px 0 0 var(--retro-ink),
    0 4px 0 var(--retro-ink),
    8px 8px 0 var(--retro-ink);
  image-rendering: pixelated;
}

/* Subtle CRT-style scanline texture layer. */
.retro-scanlines {
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgb(0 0 0 / 0.06) 2px,
    rgb(0 0 0 / 0.06) 4px
  );
}

/* Pixel grid + scanline blend for stronger 8-bit ambience. */
.retro-pixel-noise {
  background-image:
    repeating-linear-gradient(0deg, transparent 0 3px, var(--retro-pixel-grid) 3px 4px),
    repeating-linear-gradient(90deg, transparent 0 3px, var(--retro-pixel-grid) 3px 4px);
}

/* Header strip style for retro cards/modals. */
.retro-bar {
  border-bottom: 4px solid var(--retro-ink);
  background: var(--retro-bar);
  font-family: var(--font-geist-mono), "Courier New", monospace;
}

/* Footer strip matching retro header style. */
.retro-footer {
  border-top: 4px solid var(--retro-ink);
  background: var(--retro-bar);
}

/* Secondary metadata text color. */
.retro-meta {
  color: var(--retro-subtle);
}

/* Thick-framed container for media blocks. */
.retro-frame {
  border: 4px solid var(--retro-ink);
  background: #fff;
  box-shadow: inset -4px -4px 0 rgb(0 0 0 / 0.18);
}

/* Image caption treatment inside retro frames. */
.retro-caption {
  border-top: 4px solid var(--retro-ink);
  background: #f3f3f3;
  font-family: var(--font-geist-mono), "Courier New", monospace;
}

/* Monospace content copy for the retro voice. */
.retro-copy {
  font-family: var(--font-geist-mono), "Courier New", monospace;
}

/* Highlight box for interpretation / "why this matters" text. */
.retro-callout {
  border: 4px solid var(--retro-ink);
  background: var(--retro-callout-bg);
}

/* Callout heading accent color. */
.retro-callout-title {
  color: var(--retro-callout-ink);
}

/* Link chip/button used for archives and references. */
.retro-link-btn {
  border: 2px solid var(--retro-ink);
  background: var(--retro-link-bg);
  font-family: var(--font-geist-mono), "Courier New", monospace;
  box-shadow:
    inset -2px -2px 0 rgb(0 0 0 / 0.2),
    2px 2px 0 var(--retro-ink);
}

.retro-link-btn:hover {
  background: var(--retro-link-bg-hover);
  transform: translate(-1px, -1px);
}

.retro-link-btn:active {
  transform: translate(1px, 1px);
  box-shadow:
    inset -1px -1px 0 rgb(0 0 0 / 0.2),
    1px 1px 0 var(--retro-ink);
}

/* Primary close/action button style. */
.retro-close-btn {
  border: 4px solid var(--retro-ink);
  background: var(--retro-button-bg);
  color: #14171f;
  font-family: var(--font-geist-mono), "Courier New", monospace;
  box-shadow:
    inset -3px -3px 0 rgb(0 0 0 / 0.2),
    3px 3px 0 var(--retro-ink);
}

.retro-close-btn:hover {
  background: var(--retro-button-bg-hover);
  transform: translate(-1px, -1px);
}

.retro-close-btn:active {
  transform: translate(1px, 1px);
  box-shadow:
    inset -1px -1px 0 rgb(0 0 0 / 0.2),
    1px 1px 0 var(--retro-ink);
}

/* Optional class for pixel-art style rendering on images. */
.retro-pixel-image {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

/* Homepage background pan layer (scrolls slowly right-to-left). */
.home-bg-scroll {
  background-repeat: repeat-x;
  background-size: cover;
  background-position: 0 50%;
  animation: home-pan 35s linear infinite;
  will-change: background-position;
}

@keyframes home-pan {
  0% {
    background-position: 0 50%;
  }
  100% {
    /* Move one full viewport-width to the left so speed
       feels consistent on all screen sizes. */
    background-position: -100vw 50%;
  }
}

/* Era background pan layer (scrolls slowly left-to-right). */

.era-bg-scroll {
  background-repeat: repeat-x;
  background-size: cover;
  background-position: 0 50%;
  animation: era-pan 45s linear infinite;
  will-change: background-position;
}

@keyframes era-pan {
  0% {
    background-position: 0 50%;
  }
  100% {
    /* Move one full viewport-width to the right so speed
       feels consistent on all screen sizes. */
    background-position: 100vw 50%;
  }
}

/* Canadian red hover effects */
a:hover,
button:hover {
  color: var(--canadian-red);
}

.group:hover {
  border-color: var(--canadian-red) !important;
  box-shadow: 0 0 12px rgba(220, 59, 50, 0.6) !important;
}

.home-era-selected {
  border-color: var(--canadian-red) !important;
  box-shadow: 0 0 12px rgba(220, 59, 50, 0.6) !important;
}

.home-era-card:hover {
  border-color: var(--canadian-red) !important;
  box-shadow: 0 0 12px rgba(220, 59, 50, 0.6) !important;
}

.home-keyboard-mode .home-era-card:hover:not(.home-era-selected) {
  border-color: var(--home-era-accent) !important;
  box-shadow:
    4px 0 0 var(--retro-ink),
    0 4px 0 var(--retro-ink),
    8px 8px 0 var(--retro-ink) !important;
}
